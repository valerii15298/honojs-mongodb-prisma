datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

generator zod {
  output                    = "../src/generated/zod"
  provider                  = "zod-prisma-types"
  createRelationValuesTypes = true
}

model Post {
  id     String @id @default(auto()) @map("_id") @db.ObjectId
  title  String
  userId String @db.ObjectId /// @zod.custom.omit([model, input])

  user User @relation(fields: [userId], references: [id])
}

model User {
  id    String @id @default(auto()) @map("_id") @db.ObjectId /// @zod.custom.use(z.string().length(24))
  email String /// @zod.custom.use(z.string().email())

  posts Post[]
}
